"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64105,65064],{20209:(e,t,r)=>{r.d(t,{$:()=>d});var a=r(924247),s=r(910163),n=r(513800),i=r(854898),o=r(600538);let d=({queryParams:e={},shouldFetch:t=!0}={})=>{let r=(0,a.uy)({queryParams:e}).formattedUrl;return(0,o.I)((0,s.Rt)({enabled:t,queryKey:["getUserPaymentProfiles",r],queryFn:()=>n.Bn.get(r).then(e=>(0,i.A)(e.data))}))}},45938:(e,t,r)=>{r.d(t,{NM:()=>P,Z5:()=>f,fS:()=>h});var a=r(924247),s=r(36073),n=r(680904),i=r(242548),o=r(513006),d=r(381532),l=r(28071),u=r(213370),c=r(678540),m=r(513800),p=r(854898);let g="production"!==r(541503).env.NODE_CONFIG_ENV,y=e=>{switch(e.paymentMethod){case s.L2:return{paymentId:e.id,expirationMonth:e?.creditCard?.expMonth,expirationYear:e?.creditCard?.expYear,maskedNumber:e?.creditCard?.maskedNumber,cardType:e?.creditCard?.type,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case s.RD:return{paymentId:e.id,bic:e?.sepaDirectDebit?.bic,maskedIBAN:e?.sepaDirectDebit?.maskedIban,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case s.ON:return{paymentId:e.id,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit,email:e.email};default:return null}},f=({paymentProfiles:e=[]})=>Array.isArray(e)&&0!==e.length?y(e.find(e=>!0===e.isDefault)||e[0]):null,_=({orderItems:e=[],license:t,country:r="",debitableIdentifier:a,selectedShadowsOption:m,isClickToCancelARGateEnabled:p=!1})=>e.map(e=>{let{product:{id:g,eligibleForRebilling:y,seatCount:f,name:_=""}={},productType:N,assets:h,paymentMethod:w,subscriptionIdentifier:P,cancellationReason:C,cancellationReasonName:b}=e,v=P&&C?{subscription_identifier:P,cancellation_reason:C,...b&&{cancellation_reason_name:b}}:{},I=[];return f&&(v.seat_count=f),w?.type!==s.gU&&(v.subscription_id=w?.id),h?.length&&(I=h.map(({asset:e,selectedAssetSize:r})=>{let a=(0,c.Ub)(e),s=(0,c.OJ)(e);return{type:a,id:e.id,license:t,...s&&{format:d.mx,size:d.mx,headline:e.title},...r?.size&&{size:r.size},...r?.format&&{format:r.format},...a===l.W1&&e.imageType===l.m$&&{angle:e.angle||i.R,content_provider:l._Y,...r?.format!==o.yC&&{include_shadows:"on"===(m||"on").toLocaleLowerCase()}}}})),v.auto_renewal=y&&N===u.PZ&&!n.F7K.includes(r)&&!n.KGB.includes(_),n.MA.includes(_)&&(v.auto_renewal=N===u.PZ&&!n.F7K.includes(r)),v.debitable_identifier=a,p&&n.Khw.includes(_)&&(v.auto_refill=!1),{product:{id:g,type:N||u.Uy},...I&&{media:I},...Object.keys(v).length>0&&{meta:v}}}),N=({currency:e,country:t,paymentProfileId:r,items:a,couponCode:s,vatNumber:n,promotions:i})=>({data:{type:"orders",attributes:{currency:e,items:a,country:t,payment_profile_id:r,coupons:s?[{type:"coupon",name:"coupon",coupon_code:s}]:[],client_data:{},vat_override:n||void 0,...i&&{promotions:i}}}}),h=async({country:e,couponCode:t,currency:r,orderItems:s=[],selectedShadowsOption:n,paymentProfileId:i,vatNumber:o,configs:d={},license:l=u.sU,debitableIdentifier:c,promotions:y,isClickToCancelARGateEnabled:f=!1})=>{let h=_({orderItems:s,license:l,country:e,debitableIdentifier:c,selectedShadowsOption:n,isClickToCancelARGateEnabled:f}),w=(0,a._u)().formattedUrl,P=N({country:e,couponCode:t,promotions:y,currency:r,items:h,paymentProfileId:i,vatNumber:o});return m.Bn.post(w,P,{...d,...g&&{timeout:3e4}}).then(e=>({headers:e.headers,data:(0,p.A)(e.data)}))},w=({orderItems:e=[],country:t="",debitableIdentifier:r})=>e.map(e=>{let{product:{id:a,license:i,name:o="",productType:l,eligibleForRebilling:m,seatCount:p}={},assets:g,paymentMethod:y}=e,f={...p&&{seat_count:p},...y?.type!==s.gU&&{subscription_id:y?.id}},_=[];return g?.length&&(_=g.map(({asset:e,selectedAssetSize:t})=>{let r=(0,c.OJ)(e);return{type:(0,c._$)(e),id:e.id,license:i,...r&&{format:d.mx,size:d.mx,headline:e.title},...t?.size&&{size:t.size},...t?.format&&{format:t.format}}})),f.auto_renewal=m&&l===u.PZ&&!n.F7K.includes(t)&&!n.KGB.includes(o),f.debitable_identifier=r,{product:{id:a,type:l||u.Uy},..._&&{media:_},...Object.keys(f).length>0&&{meta:f}}}),P=async({country:e,currency:t,orderItems:r,paymentProfileId:s,vatNumber:n,configs:i={},debitableIdentifier:o,promotions:d})=>{let l=w({orderItems:r,country:e,debitableIdentifier:o}),u=(0,a._u)().formattedUrl,c=N({country:e,currency:t,items:l,paymentProfileId:s,vatNumber:n,promotions:d}),y=await m.Bn.post(u,c,{...i,...g&&{timeout:3e4}});return{headers:y.headers,data:(0,p.A)(y.data)}}},365064:(e,t,r)=>{r.r(t),r.d(t,{Download:()=>n});var a=r(424629),s=r(454590);let n=e=>(0,a.jsx)(s.z,{...e,"data-automation":"icon-download",children:(0,a.jsx)("path",{d:"M15.8333 7.91669H12.5V2.91669H7.49996V7.91669H4.16663L9.99996 13.75L15.8333 7.91669ZM9.16663 9.58335V4.58335H10.8333V9.58335H11.8083L9.99996 11.3917L8.19163 9.58335H9.16663ZM4.16663 15.4167H15.8333V17.0834H4.16663V15.4167Z",fill:"currentColor"})});n.__isIconComponent=!0},428507:(e,t,r)=>{r.d(t,{kN:()=>l,h6:()=>p,$w:()=>m,Cw:()=>c});var a=r(424629),s=r(467889);let n=(e,t)=>(0,s.y)()(r=>({...e,analytics:{...t},actions:{setStates:e=>r(t=>({...t,...e})),setState:(e,t)=>r(r=>({...r,[e]:t}))}}));var i=r(330633),o=r(565317);let d=(0,i.createContext)(null),l=e=>{let{children:t,initialState:r,analytics:s}=e,[o]=(0,i.useState)(()=>n(r,s));return(0,a.jsx)(d,{value:o,children:t})},u=e=>{let t=(0,i.use)(d);if(!t)throw Error("useConversionPanelStore must be used within CounterStoreProvider");return(0,o.P)(t,e)},c=e=>u(t=>t[e]),m=()=>u(e=>e.analytics?.planViewed),p=()=>u(e=>e.actions)},438704:(e,t,r)=>{r.d(t,{JA:()=>y,Up:()=>p,Z0:()=>g,bV:()=>_,eb:()=>f,kI:()=>m,wb:()=>u});var a=r(398661),s=r(737578),n=r(188808),i=r(991418),o=r(65776),d=r(222851),l=r(330633);let u=({prices:e,forceLocaleCurrency:t})=>{let{currencyData:{currency:r=a.OS}}=(0,i.Y)();return(0,o.zn)({prices:e,localeCurrency:r,forceLocaleCurrency:t})},c=({basePrice:e,pricePerSeat:t,seatCount:r})=>e?e+t*r:NaN,m=({product:e})=>{let{prices:t={},pricesPerSeat:r={},seatCount:a,downloadCredits:s,allotmentCredits:n,commitmentLength:i}=e,o=u({prices:t}),l=t[o?.toLowerCase()]??NaN,m=r[o?.toLowerCase()]??NaN,p=l,g=n||s;return m&&a&&(p=c({basePrice:l,pricePerSeat:m,seatCount:a})),(0,d.f)(p/(g&&1===i?12*g:g||1),o)??void 0},p=({product:e,promotion:t=0,getAnnualPriceDividedByMonth:r=!1})=>{let{prices:a={},pricesPerSeat:s={},seatCount:n}=e||{},i=u({prices:a}),l=a[i?.toLowerCase()]??NaN,m=s[i?.toLowerCase()],p=l;return t>0&&(p=Math.round(l*(1-t))),r&&(0,o.Fj)({product:e||{}})&&(p=Math.ceil(Number(a[i?.toLowerCase()]??NaN)/12*100)/100),m&&n&&(p=c({basePrice:l,pricePerSeat:m,seatCount:n})),(0,d.f)(p,i)},g=({activeTab:e,productGroup:t,productToCompare:r=n.XN})=>{let{prices:a}={prices:{}},s=u({prices:a}),{products:i={}}=t,o=i[e],l=12*(o?.[r]?.prices?.[s?.toLowerCase()]??NaN)-(o?.[n.Ww]?.prices?.[s?.toLowerCase()]??NaN),c=(0,d.f)(l,s);return l>0?c:null},y=({product:e,downloadsPerMonth:t,discountPercentage:r=0,selectedProductLicenseType:a=""})=>{let n=u({prices:e?.prices??{}}),{pricePerPaymentInterval:i,pricePerMonth:c,pricePerAsset:m,pricePerAssetDiscounted:p,priceDiscounted:g}=(0,l.useMemo)(()=>{let i=(0,o.f8)({product:e??{}}),d=(0,o.Eu)({product:e}),l=a===s.ZI1,u=2*!["KRW","JPY"].includes(n),c=(0,o.Fj)({product:e??{}}),m=c&&!d?12:1,p=e?.prices?.[n.toLowerCase()]??NaN,g=p-p/100*r,y=c?(p/12).toFixed(u):p,f=l?(e?.allotmentCredits||0)/20:e?.allotmentCredits??NaN,_=(p/m/((i?f:e?.allotmentCredits)??NaN)).toFixed(u),N=r?(g/m/(e?.allotmentCredits??t??NaN)).toFixed(u):_;return{priceDiscounted:g,pricePerMonth:y,pricePerAsset:_,pricePerAssetDiscounted:N,pricePerPaymentInterval:p}},[n,t,e,r,a]);return{pricePerAsset:m,formattedPricePerPaymentInterval:(0,d.f)(i,n),formattedPricePerMonth:(0,d.f)(c,n),formattedPricePerAsset:(0,d.f)(m,n),formattedPricePerAssetDiscounted:(0,d.f)(p,n),formattedPriceDiscounted:(0,d.f)(g,n)}},f=({product:e,singleClipProduct:t})=>{let{prices:r,allotmentCredits:a}=e,s=u({prices:r}),n=r[s.toLowerCase()]??NaN,i=t?.prices?.[s.toLowerCase()]??NaN,o=(n/(a??NaN)).toFixed(2),l=((i-parseFloat(o))*(a??NaN)).toFixed(0);return{formattedPackagePrice:(0,d.f)(n,s),formattedPricePerAsset:(0,d.f)(o,s),formattedSaveAmount:(0,d.f)(l,s)}},_=({prices:e={},commitmentRemaining:t=0})=>{let r=u({prices:e}),a=e[r?.toLowerCase()]??NaN;return{monthlyPrice:(0,d.f)(a,r),totalRemainingPrice:(0,d.f)(a*t,r)}}},639566:(e,t,r)=>{r.d(t,{l:()=>s});var a=r(607010).Buffer;let s=e=>{let t=JSON.stringify(e);return a.from(t).toString("base64")}},762364:(e,t,r)=>{r.d(t,{N:()=>d});var a=r(732580),s=r(639566),n=function(e){return e.PERCENTAGE="percentage",e.FIXED="fixed",e}(n||{});let i=(e,t,r)=>!(r?.length>0&&r.some(t=>e.includes(t)))&&(!(t?.length>0)||t.some(t=>e.includes(t))),o=(e,t)=>i(t.productNames,e.eligibleProducts,e.excludedProducts),d=({productNames:e,config:t})=>{let r=t.get("promotions",[]);if(!r.length)return;let n={productNames:e};for(let e of r)if(o(e,n)){let{promotionTier:t,...r}=e;return{promotionValue:(0,s.l)([{id:t,model:a.h3,namespace:a._7}]),...r}}}},762705:(e,t,r)=>{r.d(t,{J:()=>c});var a=r(213370),s=r(545875),n=r(500306),i=r(623523),o=r(241607),d=r(859478),l=r(330633);let{shutterstockBaseUrl:u}=(0,i.K)(),c=({couponCode:e,displayInlineCancellationFlow:t,additionalQueryParams:r={}})=>{let i=(0,d.useRouter)(),c=(0,s.Q)(),m=!!c?.current?.isPeacock;return(0,l.useCallback)(({orderId:s})=>{let d=(0,o.BF)({language:i.locale,baseUrl:u,pathname:(0,n.DG)({queryParams:{orderId:s,...r,...i?.query||{},...m&&{isCreativeAiOrder:"true"},...e?{[a.m]:e,[a.AW]:e}:{},...t&&{display:"inlineCancellationFlow"}}})});window.location=d},[e,m,i,t,r])}},784179:(e,t,r)=>{r.d(t,{s:()=>Z});var a=r(680904),s=r(341573),n=r(193581),i=r(439001),o=r(50432),d=r(732580),l=r(213370),u=r(991418),c=r(217648),m=r(232885),p=r(45938),g=r(65776),y=r(762364),f=r(678540),_=r(639566),N=r(637758),h=r(319305),w=r(20209),P=r(762705),C=r(438704),b=r(946267),v=r(288829),I=r(727973),D=r(712633),L=r(712542),M=r(559413),U=r(332546),E=r(343270),z=r(648903),K=r(647588);let{NODE_CONFIG_ENV:O}=r(541503).env,x=()=>{let e=(0,K.NF)()?"production":"qa";switch(O||e){case"dev":return"65021";case"qa":return"12424";case"production":return"14156";default:return"NO_ENV_DEFINED"}};var A=r(863735),k=r(946887),F=r(859478),S=r(330633);let Z=({products:e,asset:t,assetSize:r,couponCode:K,productId:O,productType:Z=l.PZ,productOverride:H,seatCount:R,setCreateOrderStatus:V,setIsInvalidCoupon:j,vatNumber:T,license:B,isLicenseDrawer:Y=!1,preset:q,eligibilityData:J={},existingUserRedirectPath:W,selectedShadowsOption:G,shouldForceAsset:$=!1,subscriptionIdentifier:Q,cancellationReason:X,additionalCheckoutQueryParams:ee,orderFlow:et,checkoutAction:er,forceLocaleCurrency:ea=!1})=>{let{region:es}=(0,u.Y)(),{isIndiaRegion:en}=(0,v.Z)(),{data:ei}=(0,D.rA)(),{data:eo}=(0,M.J)(),ed=(0,D.i9)(),el=(0,L.o)(),[eu,ec]=(0,S.useState)(!1),[,em]=(0,E.p)(t)||[],{eligibilityCurrency:ep,debitableIdentifier:eg}=J,ey=(0,U.Jz)()||(0,A.vb)(),{checkGate:ef,getDynamicConfig:e_}=(0,z.U)(),eN=ef(i.M5),eh=(0,S.useMemo)(()=>H??{...(0,g.eO)(e,O),...R?{seatCount:R}:{}},[H,O,e,R]),ew=(0,c.F)({productId:eh?.id??""}),{asPath:eP}=(0,F.useRouter)(),eC=(0,C.wb)({prices:eh?.prices??{},forceLocaleCurrency:ea}),{data:eb}=(0,w.$)({shouldFetch:!!ed}),ev=K||eh.couponCode,eI=(0,b.Rt)({cookies:void 0,signUpView:void 0,queryParams:{landing_page:(0,h.$)({couponCode:ev,productId:ew,vatNumber:T,seatCount:eh?.seatCount,doNotRedirect:!0,asset:en||$?t:void 0,existingUserRedirect:W||em,license:B,additionalGenerateCheckoutParams:ee,promotions:eh?.promotions}),...q&&{preset:q}}}),eD=(0,S.useCallback)(()=>{window&&(k.A.set(n.uc,eP),window.NREUM?.addPageAction?.("UP3-1623 assign loggedOutHandler authRedirectPath to href",{...window.location||{},asPath:eP,authRedirectPath:eI}),window.location.href=eI)},[eP,eI]),eL=(0,p.Z5)({paymentProfiles:eb}),eM=(0,S.useCallback)(e=>{let t={createTime:ei?.createTime,component:"useCreateOrder.js",errorCode:e.code,errorStatus:e.status,errorDetail:e.detail,errorMessage:e.message,errorStack:e.stack||"useCreateOrder",errorTitle:e.title,impersonatorId:eo?.impersonatorId,msg:"UP1-2650 Order creation failed",organizationId:ei?.organizationId,referrerPath:window.location.pathname,referrerQuery:window.location.search,userId:ei?.id,username:ei?.username,isLicenseDrawer:Y};window.NREUM?.noticeError?.(e,t)},[eo,ei,Y]),eU=(0,P.J)({additionalQueryParams:{...ee,...er&&{checkoutAction:er}},couponCode:ev}),eE=(0,I.h)(),[ez,eK]=(0,S.useState)({status:"",error:void 0}),eO=(0,S.useCallback)(async()=>{try{if(V?.({status:"",error:void 0}),eK({status:"",error:void 0}),ec(!0),eb){let e=t?{assets:[{asset:t,selectedAssetSize:(0,m.aZ)({assetType:(0,f.f0)(t),assetSize:r})}]}:{},n=[];n.push({...e,product:eh,productType:Z});let l=eh.name===a.rVp,u=ef(i.gx),c=l&&u?(0,_.l)(d.ju[a.rVp]):void 0,g=(0,y.N)({productNames:[eh.name],config:e_(i.sC)}),h=g?.promotionValue;null!=X&&null!=Q&&n.push({product:{id:x(),type:"products"},cancellationReason:X,subscriptionIdentifier:Q});let{headers:w}=(0,N.H)({trackingId:ey,headers:{[o.DF]:el}})||{},{data:P}=await (0,p.fS)({country:es,currency:ep||eC,paymentProfileId:eL?.paymentId,orderItems:n,selectedShadowsOption:G,vatNumber:T,couponCode:ev,promotions:eh?.promotions??h??c,license:B,debitableIdentifier:eg,configs:{headers:w},isClickToCancelARGateEnabled:eN});eE({actionName:"convert - order creation success",customAttributes:{productName:eh.name,productType:Z,country:es,currency:ep||eC,assetType:(0,f.f0)(t),assetSize:r,license:B,isLicenseDrawer:Y,orderFlow:et,couponCode:ev,orderId:P.id}}),V?.({status:s.qO,error:void 0}),eK({status:s.qO,error:void 0}),ec(!1),eU({orderId:P.id})}ec(!1)}catch(e){V?.({status:s.Nz,error:e}),eK({status:s.Nz,error:e}),ec(!1),e?.detail?.toLowerCase()===l.s_&&j?.(!0),eM(e)}},[V,eb,t,r,eh,Z,ef,e_,X,Q,ey,el,es,ep,eC,eL?.paymentId,G,T,ev,B,eg,eN,eE,Y,et,eU,eM,j]);return{createOrderHandler:ed?eO:eD,isCreateOrderInProgress:eu,product:eh,orderStatus:ez,createOrderHandlerLoading:ed&&!eb}}},800626:(e,t,r)=>{r.d(t,{CM:()=>g,FH:()=>h,GA:()=>N,ME:()=>P,YH:()=>C,jj:()=>w,t_:()=>y,tb:()=>f,u8:()=>c,yW:()=>b,zM:()=>_});var a=r(680904),s=r(977474),n=r(341573),i=r(28071),o=r(737578),d=r(213370),l=r(65776),u=r(678540);let c=({licenses:e,selectedPaymentPlan:t})=>e?.some(({licenseName:e})=>e===a.KfY)&&t?.license===d.sU,m=({licenses:e,selectedPaymentPlan:t})=>e?.some(({licenseName:e})=>e===t?.license),p=({asset:e,licenses:t})=>{let r=i.xu[e.type];return t?.some(({licenseName:e,product:t})=>(e===o.PtZ[r]||e===o.or1[r]||e===o.MQK[r])&&[...a.XqP,...s.Hg,...s.Gn,a.lcL,a.keR,a.rJW].includes(t?.name||""))},g=({asset:e,licenses:t,selectedPaymentPlan:r})=>m({licenses:t,selectedPaymentPlan:r})||p({asset:e,licenses:t})||c({licenses:t,selectedPaymentPlan:r}),y=()=>({status:"",message:"",messageKey:""}),f=({licenses:e,licenseTypes:t})=>{let{standard:r,enhanced:a}=t;return e.reduce((e,t)=>{let{licenseName:s}=t;return s===r&&(e.ownsStandardLicense=!0),s===a&&(e.ownsEnhancedLicense=!0),e},{ownsStandardLicense:!1,ownsEnhancedLicense:!1})},_=({subscriptions:e=[],licenseName:t=""})=>e?.some(({license:e,isEligibleForDownload:r})=>e===t&&r),N=(e,t,r)=>(0,l.eO)(e,t[r]),h=({asset:e,ownsStandardLicense:t,ownsEnhancedLicense:r,selectedProductLicenseType:a})=>{let s=i.xu[e.type];return t&&a?.license===o.or1[s]||r&&[o.or1[s],o.PtZ[s]].includes(a?.license||"")},w=({asset:e,selectedPaymentPlan:t,paymentPlans:r})=>{let a=i.xu[e.type];return t&&"isPaused"in t?t.isPaused:r?.filter(({license:e})=>e===o.or1[a]||e===o.PtZ[a])?.some(({isPaused:e})=>e)},P=({licenses:e})=>e?.some(({licenseName:e})=>Object.values(o.PtZ).includes(e))??!1,C=(e,t,r)=>(0,u.$9)(e)?o.rTe:[a.ZI1,o.$am].includes(r?.license||"")?o.PtZ[t]:o.or1[t],b=({isZeroCreditUser:e,hasActiveLicenses:t,hasEligibleSubscription:r,hasPausedPlans:s,labels:i,pausedPlanAlertMessage:o,paymentPlans:d,userHasDisabledPlans:u,unlimitedDailyLimitReachedMessage:c,userHasReachedUnlimitedDailyLimit:m,hasEnhancedLicense:p,isEligibleForTheSelectedResolution:g,hasExistingLicenseForSelectedLicenseType:f,isVideoAsset:_=!1,isMusicAsset:N=!1})=>{let h=null;d?.length&&([h]=d);let w=[{condition:!d?.length&&!t,message:i?.missingPlanWarning,messageKey:"missing_plan_warning",status:n.Nz},{condition:p,message:i?.alreadyLicensed,messageKey:"already_licensed_item",status:n.rD},{condition:t&&!p,message:i?.alreadyLicensedStandard,messageKey:"already_downloaded_under_standard_license_redownload_or_upgrade_to_enhanced",status:n.rD},{condition:s,message:o,messageKey:"paused_plan_warning",status:n.Nz},{condition:m&&!r,message:c,messageKey:"unlimited_download_limit_reached",status:n.Nz},{condition:e,message:i?.outOfCredits,messageKey:"out_of_downloads",status:n.Nz},{condition:u,message:i?.missingPlanWarning,messageKey:"missing_plan_warning",status:n.Nz},{condition:_&&!g,message:i?.missingPlanWarning,messageKey:"missing_plan_warning",status:n.Nz},{condition:!r&&h?.errors?.length&&h.errors.includes(a.cDE)&&m,status:n.Nz,message:c,messageKey:"unlimited_download_limit_reached"},{condition:!r&&h?.errors?.length&&h.errors.includes(a.cDE)&&(0,l.HK)({product:h?.product}),status:n.Nz,message:i?.flexInsufficientCredits,messageKey:"flex_insufficient_credits_warning"},{condition:!r&&h?.errors?.length&&h.errors.includes(a.cDE)&&!(0,l.HK)({product:h?.product}),status:n.Nz,message:i?.unlimitedNoCredits,messageKey:"music_drawer_unlimited_no_credits"},{condition:N&&!r&&!f,status:n.Nz,message:i?.unavailableAddToCart,messageKey:"music_uncovered_by_plan"}].find(({condition:e})=>e);return w?{status:w.status,message:w.message||"",messageKey:w.messageKey}:y()}},964105:(e,t,r)=>{r.r(t),r.d(t,{BuyAndDownloadButton:()=>N});var a=r(424629),s=r(341573),n=r(213370),i=r(428507),o=r(800626),d=r(417594),l=r(895620);let u=({price:e,resolution:t})=>{let{t:r}=(0,l.Bd)(d.sVY);return r("video_otp_primary_cta_dynamic_label",{PRICE:e,RESOLUTION:t?.toUpperCase()})};var c=r(864983),m=r(784179),p=r(438704),g=r(712633),y=r(931393),f=r(365064),_=r(330633);let N=({asset:e,assetSizeStateId:t,assetType:r,showIcon:d=!1,trackEventLabel:l,clickAnalyticsLabelMap:N,label:h,orderFlow:w=c.Y.UNLIMITED_CONVERSION_PANEL,product:P,productStateId:C,setStateOnLoggedOutClick:b,termsCheckboxStateId:v,shouldUseSignupModal:I=!0,showDynamicLabelForOtpCta:D=!1,dataAutomation:L,statusOnWarning:M,variant:U="temp-primary",resetState:E={StatusMessage:(0,o.t_)()}})=>{let z=(0,g.i9)(),{setStates:K}=(0,i.h6)(),O=(0,i.Cw)(t),x=(0,i.Cw)(v??"")??!0,A=(0,i.Cw)(C??"")??P,k=(0,o.YH)(e,r,A),F=(0,p.Up)({product:A}),S=u({resolution:O?.resolution,price:F}),Z={orderFlow:w,productType:n.PZ,asset:e,productOverride:A,shouldForceAsset:!0,assetSize:O,license:k},{createOrderHandler:H,isCreateOrderInProgress:R,createOrderHandlerLoading:V,orderStatus:j}=(0,m.s)(Z),T=M&&j.status===s.Nz;(0,_.useEffect)(()=>{T&&K({...M})},[T,K,M]);let B=R||V||!x,Y=D?S:h;return(0,a.jsx)(y.Button,{"aria-label":Y,disabled:B,fullWidth:!0,loading:R,onClick:()=>{T&&K({...E}),!z&&I?K(b):H()},trackEventLabel:N?.[A?.name||""]||l,variant:U,"data-automation":L,slotProps:d?{StartIcon:f.Download}:{},children:Y})}}}]);
//# sourceMappingURL=64105.e37a9b9a38b31ade.js.map